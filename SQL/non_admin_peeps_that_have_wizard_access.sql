--select *
delete
from main.PersonEntitlementMapping
	where personid in
		(
			select
				distinct p.personid
				--*
			from
				main.person p
			where
				p.personid not in 
					(
						--admin peeps
						select
						distinct(p.PersonId)
						from main.PersonEntitlementMapping pem
						join main.Person p on p.PersonId = pem.PersonId
						join main.PersonTypeMapping ptm on ptm.PersonId = p.PersonId
						join main.PersonTypes pt on pt.PersonTypeId = ptm.PersonTypeId
						where
						pt.PersonTypeId
						in 
						(select PersonTypeId from main.PersonTypes where PersonType like '%dmin')
					)
				and
					p.IsActive = 1
		)
	and
		EntitlementId
			= (select EntitlementId from main.Entitlement where EntitlementName = 'Platform Access')


/*
1084
1107
1169
1252
1360
1361
1410
1413
1449
1451
1454
1473
1476
1494
1564
1566
1584
1661
1666
1673
1695
1708
1752
1759
1773
1775
1839
1847
1850
1851
1910
1924
1927
1931
1947
1960
1962
1974
1997
2006
2012
2023
2132
2146
2160
2162
2177
2183
2190
2195
2220
2234
2235
2236
2269
2384
2395
2415
2416
2433
2437
2447
2451
2485
2533
2534
2536
2543
2584
2587
2598
2603
2694
2696
2704
2715
2717
2724
2731
2733
2736
2739
2755
2772
2782
2783
2786
2792
2793
2802
2809
2815
2829
2843
2873
2875
2876
2880
2881
2888
2906
2908
2921
2922
2938
2941
2942
2955
2963
2969
2971
2972
2973
2974
2976
2994
2998
3001
3004
3008
3009
3019
3020
3026
3031
3051
3052
3054
3058
3060
3062
3064
3066
3067
3070
3071
3077
3079
3094
3095
3101
3102
3103
3108
3110
3112
3114
*/